diff
--- linux-2.6.9/net/sctp/socket.c.orig	2006-09-14 08:49:56.000000000 -0400
+++ linux-2.6.9/net/sctp/socket.c	2006-09-14 08:54:33.000000000 -0400
@@ -993,9 +993,13 @@ SCTP_STATIC void sctp_close(struct sock 
 				sctp_association_free(asoc);
 
 			} else if (sock_flag(sk, SOCK_LINGER) &&
-				   !sk->sk_lingertime)
-				sctp_primitive_ABORT(asoc, NULL);
-			else
+				   !sk->sk_lingertime) {
+				struct sctp_chunk *chunk;
+
+				chunk = sctp_make_abort_user(asoc, NULL, 0);
+				if (chunk)
+					sctp_primitive_ABORT(asoc, chunk);
+			} else
 				sctp_primitive_SHUTDOWN(asoc, NULL);
 		} else
 			sctp_primitive_SHUTDOWN(asoc, NULL);
