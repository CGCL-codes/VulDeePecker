diff
--- linux-2.6.9/fs/nfs/file.c	2006-10-16 23:23:39.000000000 +0530
+++ linux-2.6.9.patch/fs/nfs/file.c	2006-10-16 23:26:28.000000000 +0530
@@ -491,7 +491,8 @@ nfs_lock(struct file *filp, int cmd, str
 		return -EINVAL;
 
 	/* No mandatory locks over NFS */
-	if ((inode->i_mode & (S_ISGID | S_IXGRP)) == S_ISGID)
+	if ((inode->i_mode & (S_ISGID | S_IXGRP)) == S_ISGID && 
+		fl->fl_type != F_UNLCK)
 		return -ENOLCK;
 
 	/*
